<root>
<!-- 
    inputs: 
      - pose
      - frame_id
  -->
    <BehaviorTree ID="move to pose target">
        <Sequence name="move to pose target">

            <!-- position control -->
            <SwitchControllerAction 
                name="switch to position controller"
                service_name="controller_manager/switch_controller"
                controller="scaled_pos_joint_traj_controller"
            />
            <!-- plan to approach latch -->
            <SimplePlanAction
                name="plan to approach"
                service_name="/planning_interface/simple_plan"
                mode="POSE_LINE"
                pose="{pose}"
                pose_frame_id="{frame_id}"
                vel_scaling="0.08"
                acc_scaling="0.08"
                joint_trajectory="{joint_trajectory}"
            />
            <!-- move to approach latch -->
            <JointTrajectoryAction
                name="move to approach"
                server_name="/scaled_pos_joint_traj_controller/follow_joint_trajectory"
                joint_trajectory="{joint_trajectory}"
            />   

        </Sequence>
    </BehaviorTree>
</root>